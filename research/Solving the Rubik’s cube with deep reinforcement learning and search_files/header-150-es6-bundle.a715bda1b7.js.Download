!function(){"use strict";const a=t=>{const e=[];if(!t)return e;for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.push(t[i]);return e},r={TARGET_HIDE_CLASS:"u-js-hide",TRIGGER_OPEN_CLASS:"is-open",TRIGGER_OPEN_LABEL:void 0,CLOSE_ON_FOCUS_OUT:!0,AUTOFOCUS:null,OPEN_EVENT:!1},i={DATA_COMPONENT:"[data-header-expander]",HEADER:"[data-header]"},t=()=>{const t=document.querySelectorAll(i.DATA_COMPONENT),e=document.querySelector(i.HEADER),n=[{name:"role",value:"button"}];0!==t.length&&e&&a(t).forEach(e=>{const t=(i=e.hash)?document.querySelector(i):null;var i;if(t){n.forEach(function(t){e.setAttribute(t.name,t.value)}),e.insertAdjacentElement("afterend",t),t.classList.add("has-tethered");const s=new class{constructor(t,e,i={}){this._options=Object.assign({},r,i),this._autoFocusElement=t,this._triggerEl=t,this._targetEl=e,this._originalTriggerText=t.textContent,this._isOpen=!1,this._handleButtonClick=this._handleButtonClick.bind(this),this._handleButtonKeydown=this._handleButtonKeydown.bind(this),this._handleDocumentClick=this._handleDocumentClick.bind(this),this._handleDocumentKeydown=this._handleDocumentKeydown.bind(this)}_handleButtonClick(t){t.preventDefault(),this._isOpen?this.close():this.open()}_handleButtonKeydown(t){"Enter"!==t.key&&" "!==t.key&&"Spacebar"!==t.key||(t.preventDefault(),this._isOpen?this.close():this.open())}_handleDocumentKeydown(t){"Escape"===t.key&&(this.close(),this._triggerEl.focus()),this._options.CLOSE_ON_FOCUS_OUT&&("Tab"===t.key&&!0===t.shiftKey&&(t.target!==this._targetTabbableItems[0]&&t.target!==this._triggerEl&&t.target!==this._targetEl||(t.preventDefault(),window.requestAnimationFrame(()=>{this.close(),this._triggerEl.focus()}))),"Tab"===t.key&&!1===t.shiftKey&&t.target===this._targetTabbableItems[this._targetTabbableItems.length-1]&&(t.preventDefault(),window.requestAnimationFrame(()=>{this.close(),this._triggerEl.focus()})))}_handleDocumentClick(t){t=t.target;t===this._targetEl||t===this._triggerEl||this._targetEl.contains(t)||this._triggerEl.contains(t)||this.close()}_setupTemporaryEventListeners(){document.addEventListener("keydown",this._handleDocumentKeydown),this._options.CLOSE_ON_FOCUS_OUT&&document.addEventListener("click",this._handleDocumentClick)}_removeTemporaryEventListeners(){document.removeEventListener("keydown",this._handleDocumentKeydown),this._options.CLOSE_ON_FOCUS_OUT&&document.removeEventListener("click",this._handleDocumentClick)}_updateAttributes(){this._triggerEl.setAttribute("aria-expanded",this._isOpen.toString()),this._isOpen?this._targetEl.removeAttribute("hidden"):this._targetEl.setAttribute("hidden","")}_updateClassAttributes(){this._isOpen?(this._triggerEl.classList.add(this._options.TRIGGER_OPEN_CLASS),this._targetEl.classList.remove(this._options.TARGET_HIDE_CLASS)):(this._triggerEl.classList.remove(this._options.TRIGGER_OPEN_CLASS),this._targetEl.classList.add(this._options.TARGET_HIDE_CLASS))}_updateTriggerLabel(){this._options.TRIGGER_OPEN_LABEL&&(this._triggerEl.textContent=this._isOpen?this._options.TRIGGER_OPEN_LABEL:this._originalTriggerText)}_updateTabbableItems(){this._targetTabbableItems=a(this._targetEl.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')).filter(t=>"hidden"!==window.getComputedStyle(t).getPropertyValue("visibility"))}_handleAutoFocus(){"target"===this._options.AUTOFOCUS&&(this._autoFocusElement=this._targetEl,this._targetEl.setAttribute("tabindex","-1")),"firstTabbable"===this._options.AUTOFOCUS&&(this._autoFocusElement=0<this._targetTabbableItems.length&&this._targetTabbableItems[0],this._autoFocusElement.setSelectionRange&&this._autoFocusElement.setSelectionRange(0,this._autoFocusElement.value.length)),this._autoFocusElement.focus()}open(){var t;!this._isOpen&&(this._isOpen=!0,this._updateTriggerLabel(),this._updateAttributes(),this._updateClassAttributes(),this._updateTabbableItems(),this._setupTemporaryEventListeners(),this._handleAutoFocus(),this._options.OPEN_EVENT)&&(t=((t,e,i)=>{if(void 0===e)throw new Error("Missing namespace in `createEvent` function");return"function"==typeof window.CustomEvent?new CustomEvent(`${e}:${t}`,i):((t,e)=>{e=e||{bubbles:!1,cancelable:!1,detail:null};var i=document.createEvent("CustomEvent");return i.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),i})(`${e}:${t}`,i)})("open","globalExpander",{bubbles:!1}),this._triggerEl.dispatchEvent(t))}close(){this._isOpen&&(this._isOpen=!1,this._updateTriggerLabel(),this._updateAttributes(),this._updateClassAttributes(),this._removeTemporaryEventListeners())}init(){"A"===this._triggerEl.tagName&&"#"===this._triggerEl.getAttribute("href").charAt(0)&&this._triggerEl.setAttribute("href","javascript:;"),this._updateTriggerLabel(),this._updateAttributes(),this._updateClassAttributes(),this._triggerEl.addEventListener("click",this._handleButtonClick),this._triggerEl.addEventListener("keydown",this._handleButtonKeydown)}}(e,t,{AUTOFOCUS:"firstTabbable"});return s.init(),s}})};window.loader.register(()=>{t(),function(){const t=document.querySelectorAll("[data-dynamic-track-label]");0<!t.length||t.forEach(t=>{const e=t.querySelector('input[type="text"]');e&&e.addEventListener("input",()=>{t.setAttribute("data-track-label",e.value)})})}()})}();